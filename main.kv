#: import Window kivy.core.window.Window

MDBoxLayout:
    MDNavigationRail:
        id: navigation_rail
        MDNavigationRailItem:
            text: "Home"
            icon: "home"
            on_release: app.switch_screen('home')
        MDNavigationRailItem:
            text: "Download"
            icon: "file-download"
            on_release: app.switch_screen('download')
        MDNavigationRailItem:
            text: "My Files"
            icon: "folder"
            on_release: app.switch_screen('my_files')
        # MDNavigationRailItem:
        #     text: "Edit"
        #     icon: "tune"
        #     on_release:
        #         app.manager.current = 'edit'

    ScreenManager:
        id: screen_manager

<HomeScreen>:

<DownloadScreen>:
    MDBoxLayout:
        id: box
        orientation: "vertical"
        MDTopAppBar:
            title: "Download image files from NASA"
        MDBoxLayout:
            id: content
            orientation: "vertical"
            padding: dp(30)
            MDLabel:
                text: "Please enter image name or link below"
                font_size: 20
                size_hint: 1, 0.1
            MDTextField:
                # padding: dp(15), dp(15)
                id: text_field
                hint_text: "Image name or url"
                size_hint: 0.8, None
                width: dp(10)
                # required: True
                # multiline: False
                font_size: 14
                on_focus: root.check_resource()
                on_text_validate: root.check_resource()
                helper_text: "Not a valid resource name or url"
                helper_text_mode: "on_error"
            MDBoxLayout:
                id: btn_box
                spacing: dp(10)
                size_hint: 0.8, 0.05
                orientation: "horizontal"
                MDRectangleFlatIconButton:
                    id: preview_resource_btn
                    padding: dp(10), dp(10)
                    icon: "eye"
                    text: "Preview resource"
                    disabled: True
                    on_press:
                        root.show_preview_dialog()
                MDRectangleFlatIconButton:
                    id: download_resource_btn
                    padding: dp(10), dp(10)
                    icon: "download"
                    text: "Download resource"
                    disabled: True
                    on_press:
                        root.show_download_dialog()
            MDLabel:
                markup: True
                text:
                    ("Example:\n"
                    "(name) JUPITER PJ44 SOUTH TEMPERATE BELT\n"
                    "(url) https://www.missionjuno.swri.edu/junocam/"
                    "[color=#f00]processing?id=[/color]13796")
                font_size: 14
                size_hint: 1, 0.2

<ResourceItem>
    size_hint_y: None
    height: "86dp"
    padding: "4dp"
    radius: 12
    ripple_behavior: True
    elevation: 3
    on_press: app.switch_screen('edit')

    FitImage:
        id: image
        # source: None
        radius: root.radius
        size_hint_x: None
        width: root.height

    MDBoxLayout:
        orientation: "vertical"
        adaptive_height: True
        spacing: "6dp"
        padding: "12dp", 0, 0, 0
        pos_hint: {"center_y": .5}

        MDLabel:
            id: title
            # text: "Title text"
            font_style: "H5"
            bold: True
            adaptive_height: True

        MDLabel:
            id: subtitle
            # text: "Subtitle text"
            theme_text_color: "Hint"
            adaptive_height: True

<MyFilesScreen>:
    MDSliverAppbar:
        background_color: "2d4f50"
        max_height: Window.height / 3
        MDSliverAppbarHeader:
            FitImage:
                source: "wutopia.png"
        MDSliverAppbarContent:
            id: content
            orientation: "vertical"
            padding: "12dp"
            spacing: "12dp"
            adaptive_height: True

<EditScreen>:
